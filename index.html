<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fitness-App</title>
  <style>
    /* Basis-Styles */
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f7f6;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #2f80ed;
      padding: 20px;
      color: white;
      text-align: center;
    }

    h1 {
      margin: 0;
      font-size: 2.5em;
    }

    .main-container {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .workout-card {
      background-color: white;
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .workout-card h3 {
      margin: 0;
      font-size: 1.6em;
      color: #333;
    }

    .workout-card button {
      padding: 12px 20px;
      background-color: #10b981;
      border: none;
      border-radius: 6px;
      color: white;
      cursor: pointer;
    }

    .workout-card button:hover {
      background-color: #059669;
    }

    .progress-bar-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 30px;
    }

    .progress-bar {
      width: 100%;
      height: 20px;
      background-color: #e1e7f0;
      border-radius: 10px;
      overflow: hidden;
    }

    .progress-bar span {
      display: block;
      height: 100%;
      background-color: #2f80ed;
      width: 0;
      transition: width 1s;
    }

    .footer {
      background-color: #2f80ed;
      padding: 10px;
      text-align: center;
      color: white;
      margin-top: 50px;
    }

    #auth-container {
      text-align: center;
      margin: 20px;
    }

    #auth-container input {
      padding: 10px;
      margin: 5px;
      width: 80%;
      max-width: 300px;
    }

    #auth-container button {
      padding: 10px 20px;
      margin: 5px;
      background-color: #10b981;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<header>
  <h1>Fitness-App</h1>
  <p>Dein persönlicher Fitness-Coach</p>
</header>

<!-- Benutzeranmeldung -->
<div id="auth-container">
  <h2>Benutzer anmelden oder registrieren</h2>
  <button id="sign-in-btn">Anmelden</button>
  <button id="sign-up-btn">Registrieren</button>
  <input type="email" id="email" placeholder="E-Mail">
  <input type="password" id="password" placeholder="Passwort">
</div>

<div class="main-container" style="display:none;">
  <!-- Workout Cards -->
  <div class="workout-card" id="workout-card-1" style="display:none;">
    <div>
      <h3>Yoga - Anfänger</h3>
      <p>40 Minuten - 300 kcal</p>
    </div>
    <button onclick="startWorkout(1)">Starten</button>
  </div>

  <div class="workout-card" id="workout-card-2" style="display:none;">
    <div>
      <h3>Krafttraining - Brust</h3>
      <p>30 Minuten - 350 kcal</p>
    </div>
    <button onclick="startWorkout(2)">Starten</button>
  </div>

  <div class="workout-card" id="workout-card-3" style="display:none;">
    <div>
      <h3>Laufen - 5 km</h3>
      <p>40 Minuten - 400 kcal</p>
    </div>
    <button onclick="startWorkout(3)">Starten</button>
  </div>

  <!-- Fortschrittsanzeige -->
  <div class="progress-bar-container">
    <h2>Fortschritt</h2>
    <div class="progress-bar">
      <span id="progress-bar"></span>
    </div>
    <p id="workout-status">Bereit für dein Workout!</p>
  </div>
</div>

<!-- Footer -->
<div class="footer">
  <p>&copy; 2025 Fitness-App | Alle Rechte vorbehalten</p>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.1.3/firebase-firestore.js"></script>

<script>
// Firebase-Konfiguration (Daten hier ersetzen)
const firebaseConfig = {
  apiKey: "your-api-key",
  authDomain: "your-auth-domain",
  projectId: "your-project-id",
  storageBucket: "your-storage-bucket",
  messagingSenderId: "your-sender-id",
  appId: "your-app-id",
  measurementId: "your-measurement-id"
};

// Firebase initialisieren
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const auth = firebase.auth();

// Anmeldung und Registrierung
document.getElementById("sign-in-btn").addEventListener("click", signIn);
document.getElementById("sign-up-btn").addEventListener("click", signUp);

async function signIn() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  try {
    await auth.signInWithEmailAndPassword(email, password);
    alert("Erfolgreich angemeldet!");
    document.getElementById("auth-container").style.display = "none";
    document.querySelector(".main-container").style.display = "block";
    loadWorkouts();
  } catch (error) {
    alert("Fehler beim Anmelden: " + error.message);
  }
}

async function signUp() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  try {
    await auth.createUserWithEmailAndPassword(email, password);
    alert("Erfolgreich registriert!");
    document.getElementById("auth-container").style.display = "none";
    document.querySelector(".main-container").style.display = "block";
    loadWorkouts();
  } catch (error) {
    alert("Fehler bei der Registrierung: " + error.message);
  }
}

// Workouts laden (nach Anmeldung)
function loadWorkouts() {
  document.getElementById("workout-card-1").style.display = "block";
  document.getElementById("workout-card-2").style.display = "block";
  document.getElementById("workout-card-3").style.display = "block";
}

// Workout starten
function startWorkout(workoutId) {
  let workoutName;
  let workoutDuration;

  switch(workoutId) {
    case 1:
      workoutName = "Yoga - Anfänger";
      workoutDuration = 40;
      break;
    case 2:
      workoutName = "Krafttraining - Brust";
      workoutDuration = 30;
      break;
    case 3:
      workoutName = "Laufen - 5 km";
      workoutDuration = 40;
      break;
  }

  document.getElementById('workout-status').innerText = `Du hast das ${workoutName} Workout gestartet!`;
  simulateProgress(workoutDuration);
}

function simulateProgress(duration) {
  const progressBar = document.getElementById('progress-bar');
  let width = 0;
  const interval = setInterval(() => {
    if (width >= 100) {
      clearInterval(interval);
      document.getElementById('workout-status').innerText = "Workout abgeschlossen!";
    } else {
      width += 100 / duration;
      progressBar.style.width = `${width}%`;
    }
  }, 1000);
}
</script>
</body>
</html>
